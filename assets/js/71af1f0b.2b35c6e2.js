"use strict";(self.webpackChunkroadmap=self.webpackChunkroadmap||[]).push([[249],{6449:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"03-system-architecture","title":"System Architecture & Design","description":"System architecture is the high-level structure of a software system. For a senior engineer, making sound architectural decisions is paramount, as these choices have long-lasting effects on scalability, maintainability, and team productivity. This section covers the key architectural styles and patterns that define modern backend systems.","source":"@site/docs/03-system-architecture.mdx","sourceDirName":".","slug":"/system-architecture","permalink":"/roadmap/docs/system-architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/alishahidi/roadmap/tree/main/docs/03-system-architecture.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"03-system-architecture","slug":"/system-architecture","sidebar_position":3,"title":"System Architecture & Design"},"sidebar":"roadmapSidebar","previous":{"title":"API Design & Development","permalink":"/roadmap/docs/api-design"},"next":{"title":"Data & Persistence","permalink":"/roadmap/docs/data-and-persistence"}}');var s=t(4848),i=t(8453);const a={id:"03-system-architecture",slug:"/system-architecture",sidebar_position:3,title:"System Architecture & Design"},o=void 0,c={},l=[{value:"Architectural Styles",id:"architectural-styles",level:2},{value:"Domain-Driven Design (DDD)",id:"domain-driven-design-ddd",level:2},{value:"Advanced Architectural Patterns",id:"advanced-architectural-patterns",level:2},{value:"Patterns for In-Service Design",id:"patterns-for-in-service-design",level:2},{value:"Essential Design Patterns for Senior Developers",id:"essential-design-patterns-for-senior-developers",level:2},{value:"Creational Patterns",id:"creational-patterns",level:3},{value:"Factory Pattern",id:"factory-pattern",level:4},{value:"Builder Pattern",id:"builder-pattern",level:4},{value:"Structural Patterns",id:"structural-patterns",level:3},{value:"Adapter Pattern",id:"adapter-pattern",level:4},{value:"Decorator Pattern",id:"decorator-pattern",level:4},{value:"Behavioral Patterns",id:"behavioral-patterns",level:3},{value:"Observer Pattern",id:"observer-pattern",level:4},{value:"Strategy Pattern",id:"strategy-pattern",level:4},{value:"Enterprise Patterns",id:"enterprise-patterns",level:3},{value:"Repository Pattern",id:"repository-pattern",level:4},{value:"Unit of Work Pattern",id:"unit-of-work-pattern",level:4}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"System architecture is the high-level structure of a software system. For a senior engineer, making sound architectural decisions is paramount, as these choices have long-lasting effects on scalability, maintainability, and team productivity. This section covers the key architectural styles and patterns that define modern backend systems."}),"\n",(0,s.jsx)(n.h2,{id:"architectural-styles",children:"Architectural Styles"}),"\n",(0,s.jsx)(n.p,{children:'The architectural style is the foundational choice that dictates how the system will be organized. There is no "best" style; the choice is a trade-off based on team size, business requirements, and scalability needs.'}),"\n",(0,s.jsx)(n.mermaid,{value:"graph TD\n    subgraph Monolith\n        direction LR\n        A[API] --\x3e B[Business Logic];\n        B --\x3e C[Data Access];\n    end\n\n    subgraph Microservices\n        direction LR\n        D[API Gateway] --\x3e E[Service A];\n        D --\x3e F[Service B];\n        D --\x3e G[Service C];\n    end\n\n    subgraph Event-Driven\n        direction LR\n        H[Producer] -- Event --\x3e I(Message Broker);\n        I -- Event --\x3e J[Consumer 1];\n        I -- Event --\x3e K[Consumer 2];\n    end"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Monolithic Architecture:"}),' A single, unified codebase. It\'s simple to start with but can become a "big ball of mud" if not carefully managed.']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Microservices Architecture:"})," Breaks the system into small, independent services. This promotes team autonomy and technological diversity but introduces significant operational complexity."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Event-Driven Architecture (EDA):"})," A paradigm where components communicate asynchronously via events. This promotes loose coupling and resilience, making it a natural fit for microservices."]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"Deep Dive: Resources",type:"tip",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"https://martinfowler.com/articles/microservices.html",children:["\ud83d\udcc4 ",(0,s.jsx)(n.strong,{children:"Monolith vs Microservices"})," by Martin Fowler"]})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"https://www.youtube.com/watch?v=k8Ssh3-aE-c",children:["\u25b6\ufe0f ",(0,s.jsx)(n.strong,{children:"The Power of Event-Driven Architecture"})," (Video by Gregor Hohpe)"]})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"https://aws.amazon.com/event-driven-architecture/",children:["\ud83d\udcc4 ",(0,s.jsx)(n.strong,{children:"What is Event-Driven Architecture?"})," (AWS)"]})}),"\n"]})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"domain-driven-design-ddd",children:"Domain-Driven Design (DDD)"}),"\n",(0,s.jsxs)(n.p,{children:["DDD is an approach to software development for complex business domains. It aligns the software model with the business model by establishing a ",(0,s.jsx)(n.strong,{children:"Ubiquitous Language"}),"\u2014a shared vocabulary between developers and domain experts."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Strategic DDD:"}),' The "macro" level. It\'s about decomposing the system into ',(0,s.jsx)(n.strong,{children:"Bounded Contexts"}),", which are logical boundaries for your domain models. ",(0,s.jsx)(n.strong,{children:"Context Mapping"})," is used to define the relationships between these contexts (e.g., via an ",(0,s.jsx)(n.strong,{children:"Anticorruption Layer"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Tactical DDD:"}),' The "micro" level. It provides a rich set of patterns for designing the model within a Bounded Context, including ',(0,s.jsx)(n.strong,{children:"Aggregates"}),", ",(0,s.jsx)(n.strong,{children:"Entities"}),", and ",(0,s.jsx)(n.strong,{children:"Value Objects"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"Deep Dive: Resources",type:"tip",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"https://martinfowler.com/tags/domain%20driven%20design.html",children:["\ud83d\udcc4 ",(0,s.jsx)(n.strong,{children:"Domain-Driven Design"})," by Martin Fowler"]})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"https://www.youtube.com/watch?v=g_h6d6j1qIs",children:["\u25b6\ufe0f ",(0,s.jsx)(n.strong,{children:"What is DDD?"})," (Video by Eric Evans)"]})}),"\n"]})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"advanced-architectural-patterns",children:"Advanced Architectural Patterns"}),"\n",(0,s.jsx)(n.p,{children:"These patterns solve specific, recurring problems in distributed systems."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CQRS (Command Query Responsibility Segregation):"})," Separates the models for reading data (Queries) and writing data (Commands). This is powerful because read and write workloads often have very different performance and consistency requirements. You can scale your read database independently of your write database."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Event Sourcing:"})," Instead of storing the current state of your data, you store a full, immutable sequence of the events that have happened to it. This provides a perfect audit log and allows you to derive the current state or any past state by replaying events. It's a natural fit for the command side of a CQRS system."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"SAGA Pattern:"})," Manages data consistency across microservices without using distributed transactions. A saga is a sequence of local transactions. If one transaction fails, the saga executes compensating transactions to undo the preceding work. This is essential for maintaining data integrity in a distributed environment."]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"Deep Dive: Resources",type:"tip",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"https://martinfowler.com/bliki/CQRS.html",children:["\ud83d\udcc4 ",(0,s.jsx)(n.strong,{children:"CQRS"})," by Martin Fowler"]})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"https://www.youtube.com/watch?v=JHGkaShoyNs",children:["\u25b6\ufe0f ",(0,s.jsx)(n.strong,{children:"Exploring CQRS and Event Sourcing"})," (Video by Greg Young)"]})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"https://microservices.io/patterns/data/saga.html",children:["\ud83d\udcc4 ",(0,s.jsx)(n.strong,{children:"Pattern: Saga"})," by Chris Richardson"]})}),"\n"]})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"patterns-for-in-service-design",children:"Patterns for In-Service Design"}),"\n",(0,s.jsxs)(n.p,{children:["These patterns focus on how to structure the code ",(0,s.jsx)(n.em,{children:"within"})," a single service."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Clean Architecture:"})," Organizes the system in concentric layers, with a strict ",(0,s.jsx)(n.strong,{children:"Dependency Rule"}),": all dependencies must point inwards. This isolates your core business logic (Entities and Use Cases) from external concerns like databases, frameworks, and the UI."]}),"\n"]}),"\n",(0,s.jsx)(n.mermaid,{value:'graph TD\n    subgraph Layers\n        D["Frameworks & Drivers <br/> e.g., Web, UI, DB"];\n        C["Interface Adapters <br/> e.g., Controllers, Presenters"];\n        B["Use Cases <br/> Application-specific business rules"];\n        A["Entities <br/> Enterprise-wide business rules"];\n    end\n    D -- "depends on" --\x3e C;\n    C -- "depends on" --\x3e B;\n    B -- "depends on" --\x3e A;'}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Hexagonal Architecture (Ports & Adapters):"}),' Similar to Clean Architecture, it isolates the core application logic from external dependencies. The core logic defines "ports" (interfaces), and external tools are implemented as "adapters" that plug into these ports.']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Mediator Pattern:"}),' A behavioral pattern that reduces coupling between components by having them communicate indirectly through a central "mediator" object. This is useful for decoupling command handlers from the business logic they orchestrate within a service.']}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"essential-design-patterns-for-senior-developers",children:"Essential Design Patterns for Senior Developers"}),"\n",(0,s.jsxs)(n.p,{children:["These are the fundamental ",(0,s.jsx)(n.strong,{children:"Gang of Four (GoF)"})," and ",(0,s.jsx)(n.strong,{children:"Enterprise Patterns"})," that every senior backend developer should master. They provide proven solutions to recurring design problems."]}),"\n",(0,s.jsx)(n.h3,{id:"creational-patterns",children:"Creational Patterns"}),"\n",(0,s.jsx)(n.h4,{id:"factory-pattern",children:"Factory Pattern"}),"\n",(0,s.jsx)(n.p,{children:"Encapsulates object creation logic, making code more flexible and testable."}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:"Java Implementation"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// Product interface\npublic interface PaymentProcessor {\n    void processPayment(BigDecimal amount);\n    String getProviderName();\n}\n\n// Concrete implementations\npublic class StripePaymentProcessor implements PaymentProcessor {\n    @Override\n    public void processPayment(BigDecimal amount) {\n        System.out.println("Processing $" + amount + " via Stripe");\n        // Stripe-specific payment logic\n    }\n    \n    @Override\n    public String getProviderName() {\n        return "Stripe";\n    }\n}\n\npublic class PayPalPaymentProcessor implements PaymentProcessor {\n    @Override\n    public void processPayment(BigDecimal amount) {\n        System.out.println("Processing $" + amount + " via PayPal");\n        // PayPal-specific payment logic\n    }\n    \n    @Override\n    public String getProviderName() {\n        return "PayPal";\n    }\n}\n\n// Factory\npublic class PaymentProcessorFactory {\n    public static PaymentProcessor createProcessor(String type) {\n        switch (type.toLowerCase()) {\n            case "stripe":\n                return new StripePaymentProcessor();\n            case "paypal":\n                return new PayPalPaymentProcessor();\n            default:\n                throw new IllegalArgumentException("Unknown payment processor: " + type);\n        }\n    }\n}\n\n// Usage\nPaymentProcessor processor = PaymentProcessorFactory.createProcessor("stripe");\nprocessor.processPayment(new BigDecimal("99.99"));\n'})})]}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:"C# Implementation with Dependency Injection"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'public interface IPaymentProcessor\n{\n    Task<PaymentResult> ProcessPaymentAsync(decimal amount);\n    string ProviderName { get; }\n}\n\npublic class StripePaymentProcessor : IPaymentProcessor\n{\n    public string ProviderName => "Stripe";\n    \n    public async Task<PaymentResult> ProcessPaymentAsync(decimal amount)\n    {\n        // Stripe API call\n        await Task.Delay(100); // Simulate API call\n        return new PaymentResult { Success = true, TransactionId = Guid.NewGuid().ToString() };\n    }\n}\n\npublic class PaymentProcessorFactory\n{\n    private readonly IServiceProvider _serviceProvider;\n    \n    public PaymentProcessorFactory(IServiceProvider serviceProvider)\n    {\n        _serviceProvider = serviceProvider;\n    }\n    \n    public IPaymentProcessor CreateProcessor(PaymentProvider provider)\n    {\n        return provider switch\n        {\n            PaymentProvider.Stripe => _serviceProvider.GetService<StripePaymentProcessor>(),\n            PaymentProvider.PayPal => _serviceProvider.GetService<PayPalPaymentProcessor>(),\n            _ => throw new ArgumentException($"Unsupported provider: {provider}")\n        };\n    }\n}\n'})})]}),"\n",(0,s.jsx)(n.h4,{id:"builder-pattern",children:"Builder Pattern"}),"\n",(0,s.jsx)(n.p,{children:"Constructs complex objects step by step, especially useful for objects with many optional parameters."}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:"Java Implementation"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'public class DatabaseConnection {\n    private final String host;\n    private final int port;\n    private final String database;\n    private final String username;\n    private final String password;\n    private final boolean useSSL;\n    private final int connectionTimeout;\n    private final int maxPoolSize;\n    \n    // Private constructor\n    private DatabaseConnection(Builder builder) {\n        this.host = builder.host;\n        this.port = builder.port;\n        this.database = builder.database;\n        this.username = builder.username;\n        this.password = builder.password;\n        this.useSSL = builder.useSSL;\n        this.connectionTimeout = builder.connectionTimeout;\n        this.maxPoolSize = builder.maxPoolSize;\n    }\n    \n    public static class Builder {\n        // Required parameters\n        private final String host;\n        private final String database;\n        \n        // Optional parameters with defaults\n        private int port = 5432;\n        private String username = "postgres";\n        private String password = "";\n        private boolean useSSL = false;\n        private int connectionTimeout = 30000;\n        private int maxPoolSize = 10;\n        \n        public Builder(String host, String database) {\n            this.host = host;\n            this.database = database;\n        }\n        \n        public Builder port(int port) {\n            this.port = port;\n            return this;\n        }\n        \n        public Builder credentials(String username, String password) {\n            this.username = username;\n            this.password = password;\n            return this;\n        }\n        \n        public Builder useSSL(boolean useSSL) {\n            this.useSSL = useSSL;\n            return this;\n        }\n        \n        public Builder connectionTimeout(int timeout) {\n            this.connectionTimeout = timeout;\n            return this;\n        }\n        \n        public Builder maxPoolSize(int size) {\n            this.maxPoolSize = size;\n            return this;\n        }\n        \n        public DatabaseConnection build() {\n            // Validation\n            if (host == null || host.isEmpty()) {\n                throw new IllegalArgumentException("Host cannot be null or empty");\n            }\n            return new DatabaseConnection(this);\n        }\n    }\n    \n    // Usage example\n    public static void main(String[] args) {\n        DatabaseConnection connection = new DatabaseConnection.Builder("localhost", "myapp")\n            .port(5432)\n            .credentials("admin", "secret")\n            .useSSL(true)\n            .connectionTimeout(60000)\n            .maxPoolSize(20)\n            .build();\n    }\n}\n'})})]}),"\n",(0,s.jsx)(n.h3,{id:"structural-patterns",children:"Structural Patterns"}),"\n",(0,s.jsx)(n.h4,{id:"adapter-pattern",children:"Adapter Pattern"}),"\n",(0,s.jsx)(n.p,{children:"Allows incompatible interfaces to work together."}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:"Python Implementation"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from abc import ABC, abstractmethod\nfrom typing import Dict, Any\n\n# Target interface that our application expects\nclass EmailSender(ABC):\n    @abstractmethod\n    def send_email(self, to: str, subject: str, body: str) -> bool:\n        pass\n\n# Third-party library with different interface\nclass ThirdPartyEmailService:\n    def send_message(self, recipient: str, title: str, content: str, options: Dict[str, Any]) -> Dict[str, Any]:\n        # Simulate third-party API call\n        print(f"Third-party API: Sending \'{title}\' to {recipient}")\n        return {"status": "success", "message_id": "12345"}\n\n# Adapter to make third-party service compatible with our interface\nclass ThirdPartyEmailAdapter(EmailSender):\n    def __init__(self, third_party_service: ThirdPartyEmailService):\n        self._service = third_party_service\n    \n    def send_email(self, to: str, subject: str, body: str) -> bool:\n        # Adapt the interface\n        options = {"priority": "normal", "format": "html"}\n        result = self._service.send_message(\n            recipient=to,\n            title=subject,\n            content=body,\n            options=options\n        )\n        return result.get("status") == "success"\n\n# Usage\nclass NotificationService:\n    def __init__(self, email_sender: EmailSender):\n        self._email_sender = email_sender\n    \n    def notify_user(self, user_email: str, message: str):\n        success = self._email_sender.send_email(\n            to=user_email,\n            subject="Notification",\n            body=message\n        )\n        if success:\n            print("Notification sent successfully")\n        else:\n            print("Failed to send notification")\n\n# Example usage\nthird_party_service = ThirdPartyEmailService()\nemail_adapter = ThirdPartyEmailAdapter(third_party_service)\nnotification_service = NotificationService(email_adapter)\nnotification_service.notify_user("user@example.com", "Hello, World!")\n'})})]}),"\n",(0,s.jsx)(n.h4,{id:"decorator-pattern",children:"Decorator Pattern"}),"\n",(0,s.jsx)(n.p,{children:"Adds behavior to objects dynamically without altering their structure."}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:"Node.js/JavaScript Implementation"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Base coffee interface\nclass Coffee {\n    cost() {\n        throw new Error('cost() method must be implemented');\n    }\n    \n    description() {\n        throw new Error('description() method must be implemented');\n    }\n}\n\n// Concrete coffee implementation\nclass SimpleCoffee extends Coffee {\n    cost() {\n        return 2.00;\n    }\n    \n    description() {\n        return 'Simple coffee';\n    }\n}\n\n// Base decorator\nclass CoffeeDecorator extends Coffee {\n    constructor(coffee) {\n        super();\n        this._coffee = coffee;\n    }\n    \n    cost() {\n        return this._coffee.cost();\n    }\n    \n    description() {\n        return this._coffee.description();\n    }\n}\n\n// Concrete decorators\nclass MilkDecorator extends CoffeeDecorator {\n    cost() {\n        return super.cost() + 0.50;\n    }\n    \n    description() {\n        return super.description() + ', milk';\n    }\n}\n\nclass SugarDecorator extends CoffeeDecorator {\n    cost() {\n        return super.cost() + 0.25;\n    }\n    \n    description() {\n        return super.description() + ', sugar';\n    }\n}\n\nclass WhipDecorator extends CoffeeDecorator {\n    cost() {\n        return super.cost() + 0.75;\n    }\n    \n    description() {\n        return super.description() + ', whip';\n    }\n}\n\n// Usage\nlet coffee = new SimpleCoffee();\nconsole.log(`${coffee.description()}: $${coffee.cost()}`);\n// Simple coffee: $2\n\ncoffee = new MilkDecorator(coffee);\nconsole.log(`${coffee.description()}: $${coffee.cost()}`);\n// Simple coffee, milk: $2.5\n\ncoffee = new SugarDecorator(coffee);\nconsole.log(`${coffee.description()}: $${coffee.cost()}`);\n// Simple coffee, milk, sugar: $2.75\n\ncoffee = new WhipDecorator(coffee);\nconsole.log(`${coffee.description()}: $${coffee.cost()}`);\n// Simple coffee, milk, sugar, whip: $3.5\n"})})]}),"\n",(0,s.jsx)(n.h3,{id:"behavioral-patterns",children:"Behavioral Patterns"}),"\n",(0,s.jsx)(n.h4,{id:"observer-pattern",children:"Observer Pattern"}),"\n",(0,s.jsx)(n.p,{children:"Defines a one-to-many dependency between objects for event-driven architectures."}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:"Java Implementation"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'import java.util.*;\n\n// Subject interface\ninterface Subject {\n    void attach(Observer observer);\n    void detach(Observer observer);\n    void notifyObservers();\n}\n\n// Observer interface\ninterface Observer {\n    void update(String event, Object data);\n}\n\n// Concrete subject - Order management system\npublic class OrderService implements Subject {\n    private List<Observer> observers = new ArrayList<>();\n    private String lastEvent;\n    private Object lastData;\n    \n    @Override\n    public void attach(Observer observer) {\n        observers.add(observer);\n    }\n    \n    @Override\n    public void detach(Observer observer) {\n        observers.remove(observer);\n    }\n    \n    @Override\n    public void notifyObservers() {\n        for (Observer observer : observers) {\n            observer.update(lastEvent, lastData);\n        }\n    }\n    \n    public void createOrder(Order order) {\n        // Business logic to create order\n        System.out.println("Order created: " + order.getId());\n        \n        // Notify observers\n        this.lastEvent = "ORDER_CREATED";\n        this.lastData = order;\n        notifyObservers();\n    }\n    \n    public void cancelOrder(String orderId) {\n        System.out.println("Order cancelled: " + orderId);\n        \n        this.lastEvent = "ORDER_CANCELLED";\n        this.lastData = orderId;\n        notifyObservers();\n    }\n}\n\n// Concrete observers\nclass EmailNotificationService implements Observer {\n    @Override\n    public void update(String event, Object data) {\n        switch (event) {\n            case "ORDER_CREATED":\n                Order order = (Order) data;\n                sendOrderConfirmationEmail(order);\n                break;\n            case "ORDER_CANCELLED":\n                String orderId = (String) data;\n                sendOrderCancellationEmail(orderId);\n                break;\n        }\n    }\n    \n    private void sendOrderConfirmationEmail(Order order) {\n        System.out.println("Sending confirmation email for order: " + order.getId());\n    }\n    \n    private void sendOrderCancellationEmail(String orderId) {\n        System.out.println("Sending cancellation email for order: " + orderId);\n    }\n}\n\nclass InventoryService implements Observer {\n    @Override\n    public void update(String event, Object data) {\n        if ("ORDER_CREATED".equals(event)) {\n            Order order = (Order) data;\n            updateInventory(order);\n        }\n    }\n    \n    private void updateInventory(Order order) {\n        System.out.println("Updating inventory for order: " + order.getId());\n        // Reduce stock quantities\n    }\n}\n\nclass AnalyticsService implements Observer {\n    @Override\n    public void update(String event, Object data) {\n        System.out.println("Recording analytics event: " + event);\n        // Send to analytics platform\n    }\n}\n\n// Usage\npublic class ObserverPatternDemo {\n    public static void main(String[] args) {\n        OrderService orderService = new OrderService();\n        \n        // Register observers\n        orderService.attach(new EmailNotificationService());\n        orderService.attach(new InventoryService());\n        orderService.attach(new AnalyticsService());\n        \n        // Create an order - all observers will be notified\n        Order order = new Order("ORD-123", "Customer-456");\n        orderService.createOrder(order);\n    }\n}\n'})})]}),"\n",(0,s.jsx)(n.h4,{id:"strategy-pattern",children:"Strategy Pattern"}),"\n",(0,s.jsx)(n.p,{children:"Encapsulates algorithms and makes them interchangeable at runtime."}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:"C# Implementation"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'public interface IDiscountStrategy\n{\n    decimal CalculateDiscount(decimal totalAmount, Customer customer);\n    string GetDescription();\n}\n\npublic class NoDiscountStrategy : IDiscountStrategy\n{\n    public decimal CalculateDiscount(decimal totalAmount, Customer customer)\n    {\n        return 0;\n    }\n    \n    public string GetDescription() => "No discount";\n}\n\npublic class PercentageDiscountStrategy : IDiscountStrategy\n{\n    private readonly decimal _percentage;\n    \n    public PercentageDiscountStrategy(decimal percentage)\n    {\n        _percentage = percentage;\n    }\n    \n    public decimal CalculateDiscount(decimal totalAmount, Customer customer)\n    {\n        return totalAmount * (_percentage / 100);\n    }\n    \n    public string GetDescription() => $"{_percentage}% discount";\n}\n\npublic class VipCustomerDiscountStrategy : IDiscountStrategy\n{\n    public decimal CalculateDiscount(decimal totalAmount, Customer customer)\n    {\n        if (customer.IsVip)\n        {\n            return totalAmount * 0.15m; // 15% for VIP customers\n        }\n        return 0;\n    }\n    \n    public string GetDescription() => "VIP customer discount (15%)";\n}\n\npublic class BulkOrderDiscountStrategy : IDiscountStrategy\n{\n    private readonly decimal _minimumAmount;\n    private readonly decimal _discountPercentage;\n    \n    public BulkOrderDiscountStrategy(decimal minimumAmount, decimal discountPercentage)\n    {\n        _minimumAmount = minimumAmount;\n        _discountPercentage = discountPercentage;\n    }\n    \n    public decimal CalculateDiscount(decimal totalAmount, Customer customer)\n    {\n        return totalAmount >= _minimumAmount \n            ? totalAmount * (_discountPercentage / 100) \n            : 0;\n    }\n    \n    public string GetDescription() => $"Bulk order discount ({_discountPercentage}% for orders over ${_minimumAmount})";\n}\n\npublic class PricingContext\n{\n    private IDiscountStrategy _discountStrategy;\n    \n    public PricingContext(IDiscountStrategy discountStrategy)\n    {\n        _discountStrategy = discountStrategy;\n    }\n    \n    public void SetDiscountStrategy(IDiscountStrategy strategy)\n    {\n        _discountStrategy = strategy;\n    }\n    \n    public PricingResult CalculatePrice(decimal totalAmount, Customer customer)\n    {\n        var discount = _discountStrategy.CalculateDiscount(totalAmount, customer);\n        var finalAmount = totalAmount - discount;\n        \n        return new PricingResult\n        {\n            OriginalAmount = totalAmount,\n            DiscountAmount = discount,\n            FinalAmount = finalAmount,\n            DiscountDescription = _discountStrategy.GetDescription()\n        };\n    }\n}\n\n// Usage\nvar customer = new Customer { IsVip = true, TotalPurchases = 5000 };\nvar orderAmount = 1000m;\n\n// Try different strategies\nvar strategies = new IDiscountStrategy[]\n{\n    new NoDiscountStrategy(),\n    new PercentageDiscountStrategy(10),\n    new VipCustomerDiscountStrategy(),\n    new BulkOrderDiscountStrategy(500, 12)\n};\n\nvar pricingContext = new PricingContext(new NoDiscountStrategy());\n\nforeach (var strategy in strategies)\n{\n    pricingContext.SetDiscountStrategy(strategy);\n    var result = pricingContext.CalculatePrice(orderAmount, customer);\n    \n    Console.WriteLine($"{result.DiscountDescription}: ${result.OriginalAmount} - ${result.DiscountAmount} = ${result.FinalAmount}");\n}\n'})})]}),"\n",(0,s.jsx)(n.h3,{id:"enterprise-patterns",children:"Enterprise Patterns"}),"\n",(0,s.jsx)(n.h4,{id:"repository-pattern",children:"Repository Pattern"}),"\n",(0,s.jsx)(n.p,{children:"Encapsulates data access logic and provides a clean separation between business logic and data access."}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:"C# Implementation with Entity Framework"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'public interface IRepository<T> where T : class\n{\n    Task<T> GetByIdAsync(int id);\n    Task<IEnumerable<T>> GetAllAsync();\n    Task<IEnumerable<T>> FindAsync(Expression<Func<T, bool>> predicate);\n    Task<T> AddAsync(T entity);\n    Task UpdateAsync(T entity);\n    Task DeleteAsync(T entity);\n    Task<int> CountAsync(Expression<Func<T, bool>> predicate = null);\n}\n\npublic class Repository<T> : IRepository<T> where T : class\n{\n    protected readonly DbContext _context;\n    protected readonly DbSet<T> _dbSet;\n    \n    public Repository(DbContext context)\n    {\n        _context = context;\n        _dbSet = context.Set<T>();\n    }\n    \n    public virtual async Task<T> GetByIdAsync(int id)\n    {\n        return await _dbSet.FindAsync(id);\n    }\n    \n    public virtual async Task<IEnumerable<T>> GetAllAsync()\n    {\n        return await _dbSet.ToListAsync();\n    }\n    \n    public virtual async Task<IEnumerable<T>> FindAsync(Expression<Func<T, bool>> predicate)\n    {\n        return await _dbSet.Where(predicate).ToListAsync();\n    }\n    \n    public virtual async Task<T> AddAsync(T entity)\n    {\n        _dbSet.Add(entity);\n        await _context.SaveChangesAsync();\n        return entity;\n    }\n    \n    public virtual async Task UpdateAsync(T entity)\n    {\n        _dbSet.Attach(entity);\n        _context.Entry(entity).State = EntityState.Modified;\n        await _context.SaveChangesAsync();\n    }\n    \n    public virtual async Task DeleteAsync(T entity)\n    {\n        if (_context.Entry(entity).State == EntityState.Detached)\n        {\n            _dbSet.Attach(entity);\n        }\n        _dbSet.Remove(entity);\n        await _context.SaveChangesAsync();\n    }\n    \n    public virtual async Task<int> CountAsync(Expression<Func<T, bool>> predicate = null)\n    {\n        return predicate == null \n            ? await _dbSet.CountAsync() \n            : await _dbSet.CountAsync(predicate);\n    }\n}\n\n// Specific repository with custom methods\npublic interface IUserRepository : IRepository<User>\n{\n    Task<User> GetByEmailAsync(string email);\n    Task<IEnumerable<User>> GetActiveUsersAsync();\n    Task<bool> EmailExistsAsync(string email);\n}\n\npublic class UserRepository : Repository<User>, IUserRepository\n{\n    public UserRepository(ApplicationDbContext context) : base(context)\n    {\n    }\n    \n    public async Task<User> GetByEmailAsync(string email)\n    {\n        return await _dbSet.FirstOrDefaultAsync(u => u.Email == email);\n    }\n    \n    public async Task<IEnumerable<User>> GetActiveUsersAsync()\n    {\n        return await _dbSet\n            .Where(u => u.IsActive && !u.IsDeleted)\n            .OrderBy(u => u.LastName)\n            .ToListAsync();\n    }\n    \n    public async Task<bool> EmailExistsAsync(string email)\n    {\n        return await _dbSet.AnyAsync(u => u.Email == email);\n    }\n}\n\n// Service layer using repository\npublic class UserService\n{\n    private readonly IUserRepository _userRepository;\n    private readonly ILogger<UserService> _logger;\n    \n    public UserService(IUserRepository userRepository, ILogger<UserService> logger)\n    {\n        _userRepository = userRepository;\n        _logger = logger;\n    }\n    \n    public async Task<User> CreateUserAsync(CreateUserRequest request)\n    {\n        // Validation\n        if (await _userRepository.EmailExistsAsync(request.Email))\n        {\n            throw new InvalidOperationException("Email already exists");\n        }\n        \n        var user = new User\n        {\n            Email = request.Email,\n            FirstName = request.FirstName,\n            LastName = request.LastName,\n            CreatedAt = DateTime.UtcNow,\n            IsActive = true\n        };\n        \n        var createdUser = await _userRepository.AddAsync(user);\n        _logger.LogInformation("User created with ID: {UserId}", createdUser.Id);\n        \n        return createdUser;\n    }\n    \n    public async Task<PagedResult<User>> GetUsersAsync(int page, int pageSize)\n    {\n        var users = await _userRepository.GetActiveUsersAsync();\n        var totalCount = await _userRepository.CountAsync(u => u.IsActive && !u.IsDeleted);\n        \n        var pagedUsers = users\n            .Skip((page - 1) * pageSize)\n            .Take(pageSize)\n            .ToList();\n        \n        return new PagedResult<User>\n        {\n            Items = pagedUsers,\n            TotalCount = totalCount,\n            Page = page,\n            PageSize = pageSize\n        };\n    }\n}\n'})})]}),"\n",(0,s.jsx)(n.h4,{id:"unit-of-work-pattern",children:"Unit of Work Pattern"}),"\n",(0,s.jsx)(n.p,{children:"Maintains a list of objects affected by a business transaction and coordinates writing out changes."}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:"C# Implementation"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'public interface IUnitOfWork : IDisposable\n{\n    IUserRepository Users { get; }\n    IOrderRepository Orders { get; }\n    IProductRepository Products { get; }\n    \n    Task<int> SaveChangesAsync();\n    Task BeginTransactionAsync();\n    Task CommitTransactionAsync();\n    Task RollbackTransactionAsync();\n}\n\npublic class UnitOfWork : IUnitOfWork\n{\n    private readonly ApplicationDbContext _context;\n    private IDbContextTransaction _transaction;\n    \n    public UnitOfWork(ApplicationDbContext context)\n    {\n        _context = context;\n        Users = new UserRepository(_context);\n        Orders = new OrderRepository(_context);\n        Products = new ProductRepository(_context);\n    }\n    \n    public IUserRepository Users { get; private set; }\n    public IOrderRepository Orders { get; private set; }\n    public IProductRepository Products { get; private set; }\n    \n    public async Task<int> SaveChangesAsync()\n    {\n        return await _context.SaveChangesAsync();\n    }\n    \n    public async Task BeginTransactionAsync()\n    {\n        _transaction = await _context.Database.BeginTransactionAsync();\n    }\n    \n    public async Task CommitTransactionAsync()\n    {\n        try\n        {\n            await SaveChangesAsync();\n            await _transaction?.CommitAsync();\n        }\n        catch\n        {\n            await RollbackTransactionAsync();\n            throw;\n        }\n        finally\n        {\n            _transaction?.Dispose();\n            _transaction = null;\n        }\n    }\n    \n    public async Task RollbackTransactionAsync()\n    {\n        await _transaction?.RollbackAsync();\n        _transaction?.Dispose();\n        _transaction = null;\n    }\n    \n    public void Dispose()\n    {\n        _transaction?.Dispose();\n        _context?.Dispose();\n    }\n}\n\n// Usage in service\npublic class OrderService\n{\n    private readonly IUnitOfWork _unitOfWork;\n    \n    public OrderService(IUnitOfWork unitOfWork)\n    {\n        _unitOfWork = unitOfWork;\n    }\n    \n    public async Task<Order> ProcessOrderAsync(CreateOrderRequest request)\n    {\n        await _unitOfWork.BeginTransactionAsync();\n        \n        try\n        {\n            // 1. Validate customer\n            var customer = await _unitOfWork.Users.GetByIdAsync(request.CustomerId);\n            if (customer == null)\n                throw new InvalidOperationException("Customer not found");\n            \n            // 2. Check product availability and reserve inventory\n            var products = new List<Product>();\n            foreach (var item in request.Items)\n            {\n                var product = await _unitOfWork.Products.GetByIdAsync(item.ProductId);\n                if (product == null || product.Stock < item.Quantity)\n                    throw new InvalidOperationException($"Insufficient stock for product {item.ProductId}");\n                \n                product.Stock -= item.Quantity;\n                await _unitOfWork.Products.UpdateAsync(product);\n                products.Add(product);\n            }\n            \n            // 3. Create order\n            var order = new Order\n            {\n                CustomerId = request.CustomerId,\n                Items = request.Items.Select(item => new OrderItem\n                {\n                    ProductId = item.ProductId,\n                    Quantity = item.Quantity,\n                    Price = products.First(p => p.Id == item.ProductId).Price\n                }).ToList(),\n                CreatedAt = DateTime.UtcNow\n            };\n            \n            await _unitOfWork.Orders.AddAsync(order);\n            \n            // 4. All operations succeed - commit transaction\n            await _unitOfWork.CommitTransactionAsync();\n            \n            return order;\n        }\n        catch\n        {\n            await _unitOfWork.RollbackTransactionAsync();\n            throw;\n        }\n    }\n}\n'})})]}),"\n",(0,s.jsx)(n.mermaid,{value:'graph TD\n    subgraph "Creational Patterns"\n        A[Factory] --\x3e A1["Creates objects without<br/>specifying exact class"];\n        B[Builder] --\x3e B1["Constructs complex objects<br/>step by step"];\n        C[Singleton] --\x3e C1["Ensures single instance<br/>global access"];\n    end\n    \n    subgraph "Structural Patterns"\n        D[Adapter] --\x3e D1["Makes incompatible<br/>interfaces compatible"];\n        E[Decorator] --\x3e E1["Adds behavior dynamically<br/>without modification"];\n        F[Facade] --\x3e F1["Simplifies complex<br/>subsystem interface"];\n    end\n    \n    subgraph "Behavioral Patterns"\n        G[Observer] --\x3e G1["Notifies multiple objects<br/>of state changes"];\n        H[Strategy] --\x3e H1["Encapsulates interchangeable<br/>algorithms/behaviors"];\n        I[Command] --\x3e I1["Encapsulates requests<br/>as objects for queuing"];\n    end\n    \n    subgraph "Enterprise Patterns"\n        J[Repository] --\x3e J1["Encapsulates data access<br/>provides object-oriented view"];\n        K["Unit of Work"] --\x3e K1["Coordinates multiple<br/>repositories in transaction"];\n        L[Specification] --\x3e L1["Encapsulates business rules<br/>allows composition"];\n    end'}),"\n",(0,s.jsx)(n.admonition,{title:"Deep Dive: Resources",type:"tip",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"https://www.amazon.com/Design-Patterns-Elements-Reusable-Object-Oriented/dp/0201633612",children:["\ud83d\udcc4 ",(0,s.jsx)(n.strong,{children:"Design Patterns: Elements of Reusable Object-Oriented Software"})," (Gang of Four Book)"]})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"https://martinfowler.com/eaaCatalog/",children:["\ud83d\udcc4 ",(0,s.jsx)(n.strong,{children:"Patterns of Enterprise Application Architecture"})," by Martin Fowler"]})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"https://www.youtube.com/watch?v=v9ejT8FO-7I",children:["\u25b6\ufe0f ",(0,s.jsx)(n.strong,{children:"Design Patterns in Plain English"})," (Video Series)"]})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"https://refactoring.guru/design-patterns",children:["\ud83d\udcc4 ",(0,s.jsx)(n.strong,{children:"Refactoring.Guru Design Patterns"})]})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"https://docs.microsoft.com/en-us/dotnet/architecture/microservices/microservice-ddd-cqrs-patterns/infrastructure-persistence-layer-design",children:["\ud83d\udcc4 ",(0,s.jsx)(n.strong,{children:"Repository Pattern in C#"})]})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"https://java-design-patterns.com/",children:["\ud83d\udee0\ufe0f ",(0,s.jsx)(n.strong,{children:"Design Patterns in Java"})]})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"https://python-patterns.guide/",children:["\ud83d\udcc4 ",(0,s.jsx)(n.strong,{children:"Python Design Patterns"})]})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"https://www.enterpriseintegrationpatterns.com/",children:["\ud83d\udcc4 ",(0,s.jsx)(n.strong,{children:"Enterprise Integration Patterns"})]})}),"\n"]})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);