"use strict";(self.webpackChunkroadmap=self.webpackChunkroadmap||[]).push([[1566],{9267:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>h,contentTitle:()=>c,default:()=>g,frontMatter:()=>d,metadata:()=>i,toc:()=>p});const i=JSON.parse('{"id":"04-data-and-persistence","title":"Data & Persistence","description":"Data is the lifeblood of any application. How you choose to store, manage, and model that data has profound implications for your system\'s performance, scalability, and complexity. This section covers the critical technologies and patterns for managing data in modern backend systems.","source":"@site/docs/04-data-and-persistence.mdx","sourceDirName":".","slug":"/data-and-persistence","permalink":"/roadmap/docs/data-and-persistence","draft":false,"unlisted":false,"editUrl":"https://github.com/alishahidi/roadmap/tree/main/docs/04-data-and-persistence.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"04-data-and-persistence","slug":"/data-and-persistence","sidebar_position":4,"title":"Data & Persistence"},"sidebar":"roadmapSidebar","previous":{"title":"System Architecture & Design","permalink":"/roadmap/docs/system-architecture"},"next":{"title":"Deployment & Operations","permalink":"/roadmap/docs/deployment-and-operations"}}');var a=s(4848),t=s(8453),r=s(6540),o=s(4736);function l(){const e=(0,r.useRef)(null);return(0,r.useEffect)(()=>{const n=e.current.getContext("2d"),s=new o.Ay(n,{type:"bar",data:{labels:["Apache Kafka","RabbitMQ"],datasets:[{label:"Relative Message Throughput",data:[100,45],backgroundColor:["rgba(59, 130, 246, 0.7)","rgba(255, 102, 0, 0.7)"],borderColor:["rgba(59, 130, 246, 1)","rgba(255, 102, 0, 1)"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,indexAxis:"y",scales:{x:{beginAtZero:!0,title:{display:!0,text:"Relative Throughput (Higher is Better)"}}},plugins:{legend:{display:!1},title:{display:!0,text:"Messaging System Throughput Comparison",font:{size:16}}}}});return()=>{s.destroy()}},[]),(0,a.jsx)("div",{style:{position:"relative",height:"300px",width:"100%",maxWidth:"800px",margin:"20px auto"},children:(0,a.jsx)("canvas",{ref:e})})}const d={id:"04-data-and-persistence",slug:"/data-and-persistence",sidebar_position:4,title:"Data & Persistence"},c=void 0,h={},p=[{value:"Choosing the Right Database",id:"choosing-the-right-database",level:2},{value:"SQL (Relational) Databases",id:"sql-relational-databases",level:3},{value:"NoSQL (Non-Relational) Databases",id:"nosql-non-relational-databases",level:3},{value:"Database Performance &amp; Optimization",id:"database-performance--optimization",level:2},{value:"Indexing Strategies",id:"indexing-strategies",level:3},{value:"Query Optimization",id:"query-optimization",level:3},{value:"Transaction Management",id:"transaction-management",level:3},{value:"Caching Strategies",id:"caching-strategies",level:2},{value:"Messaging Paradigms",id:"messaging-paradigms",level:2}];function x(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",mermaid:"mermaid",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"Data is the lifeblood of any application. How you choose to store, manage, and model that data has profound implications for your system's performance, scalability, and complexity. This section covers the critical technologies and patterns for managing data in modern backend systems."}),"\n",(0,a.jsx)(n.h2,{id:"choosing-the-right-database",children:"Choosing the Right Database"}),"\n",(0,a.jsxs)(n.p,{children:['There is no "one size fits all" database. The right choice is a trade-off between consistency, availability, and partition tolerance, famously captured by the ',(0,a.jsx)(n.strong,{children:"CAP Theorem"}),"."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Consistency (C):"})," Every read receives the most recent write or an error."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Availability (A):"})," Every request receives a (non-error) response, without the guarantee that it contains the most recent write."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Partition Tolerance (P):"})," The system continues to operate despite an arbitrary number of messages being dropped (or delayed) by the network between nodes."]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"In a distributed system, you must choose between C and A. SQL databases traditionally choose C, while many NoSQL databases choose A."}),"\n",(0,a.jsx)(n.h3,{id:"sql-relational-databases",children:"SQL (Relational) Databases"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Examples:"})," PostgreSQL, MySQL"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Key Strength:"})," ",(0,a.jsx)(n.strong,{children:"ACID"})," compliance (Atomicity, Consistency, Isolation, Durability) makes them the gold standard for transactional systems where data integrity is paramount."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Best For:"})," Systems requiring strong consistency and complex, structured queries (e.g., e-commerce, financial systems)."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"nosql-non-relational-databases",children:"NoSQL (Non-Relational) Databases"}),"\n",(0,a.jsx)(n.p,{children:"NoSQL databases emerged to provide better scalability and flexibility."}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Document Databases (e.g., MongoDB):"})," Store flexible, JSON-like documents. Great for content management and user profiles."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Key-Value Stores (e.g., Redis):"})," A simple key-value model. Blazing fast for simple lookups, making them ideal for caching and session management."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Wide-Column Stores (e.g., Cassandra):"})," Optimized for queries over large datasets. Excellent for time-series data and analytics."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Graph Databases (e.g., Neo4j):"})," Model data as nodes and edges. Perfect for interconnected data like social networks and recommendation engines."]}),"\n"]}),"\n",(0,a.jsx)(n.admonition,{title:"Deep Dive: Resources",type:"tip",children:(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsxs)(n.a,{href:"https://www.consul.io/docs/intro/vs/cap-theorem",children:["\ud83d\udcc4 ",(0,a.jsx)(n.strong,{children:"CAP Theorem: A Plain English Explanation"})]})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsxs)(n.a,{href:"https://www.youtube.com/watch?v=cDatabase_Video",children:["\u25b6\ufe0f ",(0,a.jsx)(n.strong,{children:"SQL vs. NoSQL Explained"})," (Video)"]})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsxs)(n.a,{href:"https://www.postgresql.org/docs/",children:["\ud83d\udcc4 ",(0,a.jsx)(n.strong,{children:"PostgreSQL Official Documentation"})]})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsxs)(n.a,{href:"https://www.mongodb.com/docs/",children:["\ud83d\udcc4 ",(0,a.jsx)(n.strong,{children:"MongoDB Official Documentation"})]})}),"\n"]})}),"\n",(0,a.jsx)(n.p,{children:":::"}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"database-performance--optimization",children:"Database Performance & Optimization"}),"\n",(0,a.jsx)(n.p,{children:"Performance is critical for data-intensive applications. Senior developers must understand how to optimize database interactions."}),"\n",(0,a.jsx)(n.h3,{id:"indexing-strategies",children:"Indexing Strategies"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Primary Indexes:"})," Unique identifiers for rows (usually the primary key)."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Secondary Indexes:"})," Speed up queries on non-primary key columns. Trade-off between read performance and write performance."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Composite Indexes:"})," Index on multiple columns. Order matters for query optimization."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Partial Indexes:"})," Index only rows that meet certain conditions, saving space."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"query-optimization",children:"Query Optimization"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Explain Plans:"})," Understand how the database executes your queries. Use ",(0,a.jsx)(n.code,{children:"EXPLAIN"})," in SQL."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"N+1 Query Problem:"})," Avoid making N additional queries for N results. Use JOINs or eager loading."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Connection Pooling:"})," Reuse database connections to avoid the overhead of creating new connections."]}),"\n"]}),"\n",(0,a.jsx)(n.mermaid,{value:'graph TD\r\n    subgraph "Without Connection Pool"\r\n        A[Request 1] --\x3e B[New DB Connection];\r\n        C[Request 2] --\x3e D[New DB Connection];\r\n        E[Request 3] --\x3e F[New DB Connection];\r\n        B --\x3e G[Database];\r\n        D --\x3e G;\r\n        F --\x3e G;\r\n    end\r\n    \r\n    subgraph "With Connection Pool"\r\n        H[Request 1] --\x3e I[Connection Pool];\r\n        J[Request 2] --\x3e I;\r\n        K[Request 3] --\x3e I;\r\n        I --\x3e L[Reused Connections];\r\n        L --\x3e M[Database];\r\n    end'}),"\n",(0,a.jsx)(n.h3,{id:"transaction-management",children:"Transaction Management"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"ACID Properties:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Atomicity:"})," All operations in a transaction succeed or fail together."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Consistency:"})," Transactions preserve database invariants."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Isolation:"})," Concurrent transactions don't interfere with each other."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Durability:"})," Committed transactions survive system failures."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Isolation Levels:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Read Uncommitted:"})," Lowest isolation, allows dirty reads."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Read Committed:"})," Prevents dirty reads but allows non-repeatable reads."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Repeatable Read:"})," Prevents dirty and non-repeatable reads."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Serializable:"})," Highest isolation, prevents all phenomena."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.admonition,{title:"Deep Dive: Resources",type:"tip",children:(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsxs)(n.a,{href:"https://use-the-index-luke.com/",children:["\ud83d\udcc4 ",(0,a.jsx)(n.strong,{children:"Database Indexing Best Practices"})]})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsxs)(n.a,{href:"https://www.youtube.com/watch?v=ZX-wdXB8bQg",children:["\u25b6\ufe0f ",(0,a.jsx)(n.strong,{children:"Database Transactions Explained"})," (Video)"]})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsxs)(n.a,{href:"https://wiki.postgresql.org/wiki/Performance_Optimization",children:["\ud83d\udcc4 ",(0,a.jsx)(n.strong,{children:"PostgreSQL Performance Tuning Guide"})]})}),"\n"]})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"caching-strategies",children:"Caching Strategies"}),"\n",(0,a.jsx)(n.p,{children:"Caching reduces latency and load on your primary data store by keeping frequently accessed data in a faster, closer location."}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Cache-Aside (Lazy Loading):"})," This is the most common caching strategy. The application is responsible for managing the cache."]}),"\n"]}),"\n",(0,a.jsx)(n.mermaid,{value:"sequenceDiagram\r\n    participant Client\r\n    participant App as Application\r\n    participant Cache as Cache (e.g., Redis)\r\n    participant DB as Database\r\n\r\n    Client->>App: Request for data\r\n    App->>Cache: Read data from cache\r\n    alt Cache Miss\r\n        Cache--\x3e>App: Data not found\r\n        App->>DB: Read data from database\r\n        DB--\x3e>App: Return data\r\n        App->>Cache: Write data to cache\r\n        App--\x3e>Client: Return data\r\n    else Cache Hit\r\n        Cache--\x3e>App: Return cached data\r\n        App--\x3e>Client: Return data\r\n    end"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Write-Through:"})," Data is written to the cache and database simultaneously. Ensures consistency but adds latency to writes."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Write-Back:"})," Data is written only to the cache, which then asynchronously writes to the database. Fastest for writes, but carries a risk of data loss."]}),"\n"]}),"\n",(0,a.jsx)(n.admonition,{title:"Deep Dive: Resources",type:"tip",children:(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsxs)(n.a,{href:"https://aws.amazon.com/caching/best-practices/",children:["\ud83d\udcc4 ",(0,a.jsx)(n.strong,{children:"Caching Patterns and Best Practices"})," (AWS)"]})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsxs)(n.a,{href:"https://www.youtube.com/watch?v=rP9_b429sW4",children:["\u25b6\ufe0f ",(0,a.jsx)(n.strong,{children:"Introduction to Redis"})," (Video)"]})}),"\n"]})}),"\n",(0,a.jsx)(n.p,{children:":::"}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"messaging-paradigms",children:"Messaging Paradigms"}),"\n",(0,a.jsx)(n.p,{children:"For asynchronous communication, the choice of message broker is a critical architectural decision."}),"\n",(0,a.jsx)(l,{}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Message Broker (Smart Broker):"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Examples:"})," RabbitMQ, ActiveMQ"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Paradigm:"})," The broker has sophisticated routing logic. Ideal for complex routing, task queues, and ensuring messages are delivered to specific consumers."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Event Streaming Platform (Dumb Broker):"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Examples:"})," Apache Kafka, AWS Kinesis"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Paradigm:"})," A durable, append-only log. The consumer is responsible for tracking its position. Best for high-throughput data pipelines and event sourcing."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.admonition,{title:"Deep Dive: Resources",type:"tip",children:(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsxs)(n.a,{href:"https://www.cloudamqp.com/blog/rabbitmq-vs-kafka.html",children:["\ud83d\udcc4 ",(0,a.jsx)(n.strong,{children:"RabbitMQ vs. Kafka"})," (CloudAMQP)"]})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsxs)(n.a,{href:"https://www.youtube.com/watch?v=0Kpg_pny_gI",children:["\u25b6\ufe0f ",(0,a.jsx)(n.strong,{children:"What is Apache Kafka?"})," (Video by Confluent)"]})}),"\n"]})}),"\n",(0,a.jsx)(n.p,{children:":::"})]})}function g(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(x,{...e})}):x(e)}}}]);